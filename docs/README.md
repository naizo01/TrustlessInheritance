## 相続アプリケーション設計概要

### 1. **パートナー証明の確立**
- **Alice** は自身のアドレスと **Bob** のアドレスを組み合わせてハッシュを生成し、スマートコントラクトに登録します。この時点では、パートナー（Bob）の情報は秘匿されており、確認は行われません。

### 2. **トークン転送許可の設定**
- Alice は、自身のウォレット内の全トークンをパートナーの Bob のみが相続できるように設定します。その他の人はトークンを引き出すことができません。

### 3. **パートナー確認と死亡後のトークンロック**
- Alice の死亡が想定される場合、Bob は相続を開始するため、特定のスマートコントラクトにトークンを送信します。この時点でパートナー確認が行われます。
- Bob が送信した署名が検証され、そこから Bob のアドレスが抽出されます。Alice が登録したハッシュと一致するか確認され、一致すれば Bob がパートナーであることが確認されます。
- トークンはデフォルトで3ヶ月間ロックされ、この期間中に Alice が引き出すことができます。

### 4. **トークンの引き出し制限と解除**
- ロック期間終了後、Alice が引き出さなかった場合、システムは Alice が死亡したとみなします。
- ロック解除後、Bob はトークンを引き出すことが可能になります。不正な申請が行われた場合は、Alice が引き出すことで防ぐことができます。

![相続の流れ署名](PairProof-相続の流れ署名.drawio.png)


---


[コントラクトの詳細](contracts.md)
